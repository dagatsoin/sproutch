(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[677],{"../tabs/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("../tabs/lib/index.js")},"../tabs/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Tab:()=>lib_Tab,TabBar:()=>TabBar,createScrollIndicatorOverlayStyle:()=>createScrollIndicatorOverlayStyle,tabStyle:()=>tabStyle,tabsBarStyle:()=>tabsBarStyle});var slicedToArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react=__webpack_require__("../../node_modules/react/index.js"),Pressable=__webpack_require__("../../node_modules/react-native-web/dist/exports/Pressable/index.js"),StyleSheet=__webpack_require__("../../node_modules/react-native-web/dist/exports/StyleSheet/index.js"),Text=__webpack_require__("../../node_modules/react-native-web/dist/exports/Text/index.js"),View=__webpack_require__("../../node_modules/react-native-web/dist/exports/View/index.js"),src=__webpack_require__("../core/src/index.ts"),defineProperty=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var tabStyle=function tabStyle(_ref){var theme=_ref.theme,palette=_ref.palette,_ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,overlayColor=_ref.overlayColor,options=_ref.options,tabHeight=options&&options.hasIconOnTop?72:48,iconSize=3*theme.spacing,tabColor=void 0===palette||""===palette?src.colorManipulator.fade(theme.palette.primary.contrastText,.7):theme.palette.text.secondary,tabActiveColor=void 0===palette||""===palette?theme.palette.primary.contrastText:theme.palette[palette].main,tabDisabledColor=void 0===palette||""===palette?src.colorManipulator.fade(theme.palette.primary.contrastText,.5):theme.palette.text.disabled,twoLinesPadding=1.5*theme.spacing,overlayOpacity=(0,src.getHoverOverlayOpacity)(overlayColor,theme);return StyleSheet.default.create({root:_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({height:tabHeight,minWidth:90,maxWidth:360},!!options&&!options.mustGrow&&{flexGrow:1,flexShrink:1,flexBasis:"100%"}),{},{paddingHorizontal:16,paddingVertical:options&&options.hasIconOnTop?twoLinesPadding:void 0,justifyContent:options&&options.hasIconOnTop?"space-between":"center",alignItems:"center",flexDirection:options&&options.hasIconOnTop?"column":"row"},{cursor:"pointer"}),style.root),(0,src.override)(theme.overrides,"tab","root")),options&&options.hasIcon?(0,src.override)(theme.overrides,"tab","hasIcon"):style.hasIcon),options&&options.hasLabel?(0,src.override)(theme.overrides,"tab","hasLabel"):style.hasLabel),icon:_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({justifyContent:"center"},!!options&&options.hasLabel&&{margin:0}),{},{fontSize:iconSize,textAlign:"center",color:tabColor},!!options&&options.isActive&&_objectSpread({color:tabActiveColor},style.isActiveIcon)),!!options&&options.isDisabled&&{color:tabDisabledColor}),style.icon),(0,src.override)(theme.overrides,"tab","icon")),label:_objectSpread(_objectSpread(_objectSpread(_objectSpread({margin:0,paddingLeft:options&&!options.hasIconOnTop&&options.hasIcon?theme.spacing:0,overflow:"visible",textAlign:"center",fontSize:14,color:tabColor},!!options&&options.isActive&&_objectSpread({color:tabActiveColor},style.isActiveLabel)),!!options&&options.isDisabled&&{color:tabDisabledColor}),style.label),(0,src.override)(theme.overrides,"tab","label")),overlay:_objectSpread(_objectSpread({flex:1,backgroundColor:overlayColor,opacity:overlayOpacity},style.overlay),(0,src.override)(theme.overrides,"tab","overlay"))})},tabsBarStyle=function tabsBarStyle(_ref2){var palette=_ref2.palette,theme=_ref2.theme,_ref2$style=_ref2.style,style=void 0===_ref2$style?{}:_ref2$style,options=_ref2.options,tabHeight=options&&options.hasIconOnTop?72:48,tabBackgroundColor=void 0===palette||""===palette?theme.palette.primary.main:theme.palette.background.default,paddingHorizontal=options&&options.isScrollEnabled?52:0,cursorColor=void 0===palette||""===palette?theme.palette.secondary.main:theme.palette[palette].main;return{style:StyleSheet.default.create({root:_objectSpread(_objectSpread({height:tabHeight,maxHeight:tabHeight,flexGrow:1,flexShrink:1,marginBottom:4},style.root),(0,src.override)(theme.overrides,"tabs","root")),container:_objectSpread(_objectSpread({backgroundColor:tabBackgroundColor,paddingHorizontal},style.container),(0,src.override)(theme.overrides,"tabs","container")),scrollContent:_objectSpread(_objectSpread({flexDirection:"row",overflow:"visible"},style.scrollContent),(0,src.override)(theme.overrides,"tabs","scrollContent")),leftIndicator:_objectSpread(_objectSpread(_objectSpread({position:"absolute",left:0,top:0,bottom:0,width:paddingHorizontal},{cursor:"pointer"}),{},{backgroundColor:tabBackgroundColor},style.leftIndicator),(0,src.override)(theme.overrides,"tabs","leftIndicator")),rightIndicator:_objectSpread(_objectSpread(_objectSpread({position:"absolute",right:0,top:0,bottom:0,width:paddingHorizontal},{cursor:"pointer"}),{},{backgroundColor:tabBackgroundColor},style.rightIndicator),(0,src.override)(theme.overrides,"tabs","rightIndicator")),cursorAnimatedContainer:{position:"absolute",width:1,top:0,bottom:0},cursor:_objectSpread(_objectSpread({height:4,top:tabHeight-4,backgroundColor:cursorColor},style.cursor),(0,src.override)(theme.overrides,"tabs","cursor")),scrollView:_objectSpread(_objectSpread(_objectSpread({marginBottom:-20},{display:"inline-flex"}),style.scrollView),(0,src.override)(theme.overrides,"tabs","scrollView"))}),paddingHorizontal}};function createScrollIndicatorOverlayStyle(color,theme){return StyleSheet.default.create({root:{flex:1,backgroundColor:color,opacity:(0,src.getHoverOverlayOpacity)(color,theme)}})}function noop(){}const lib_Tab=function Tab(props){var _ripple$current2,_ripple$current3,theme=(0,react.useContext)(src.ThemeContext),_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.A)(_useState,2),isHover=_useState2[0],setIsHover=_useState2[1],layout=(0,react.useRef)(),ripple=(0,react.useRef)(),isActionAllowed=(0,react.useRef)(!1),_onLayout=(0,react.useRef)((function(newLayout){var id=props.id,onTabLayout=props.onTabLayout;void 0!==layout.current&&layout.current.height===newLayout.height&&layout.current.width===newLayout.width&&layout.current.x===newLayout.x&&layout.current.y===newLayout.y||(layout.current={x:Math.round(newLayout.x),y:Math.round(newLayout.y),width:Math.round(newLayout.width),height:Math.round(newLayout.height)},null==onTabLayout||onTabLayout({id,layout:layout.current}))}));(0,src.componentWillMount)((function(){var _props$onWillMount=props.onWillMount;(void 0===_props$onWillMount?function(){}:_props$onWillMount)(props.id)})),(0,src.componentDidMount)((function(){layout.current&&_onLayout.current(layout.current)})),(0,src.componentWillUnmount)((function(){var id=props.id,_props$onUnmount=props.onUnmount;(void 0===_props$onUnmount?function(){}:_props$onUnmount)(id)}));var blockActionDuringScroll=(0,react.useRef)((function(){var _ripple$current;isActionAllowed.current=!1,null==(_ripple$current=ripple.current)||_ripple$current.onPressOut()})),allowActionDuringScroll=(0,react.useRef)((function(){isActionAllowed.current=!0})),id=props.id,iconSlot=props.iconSlot,label=props.label,_props$isActive=props.isActive,isActive=void 0!==_props$isActive&&_props$isActive,_props$isDisabled=props.isDisabled,isDisabled=void 0!==_props$isDisabled&&_props$isDisabled,_props$isFrozen=props.isFrozen,isFrozen=void 0!==_props$isFrozen&&_props$isFrozen,_props$hasIconOnTop=props.hasIconOnTop,hasIconOnTop=void 0!==_props$hasIconOnTop&&_props$hasIconOnTop,_props$mustGrow=props.mustGrow,mustGrow=void 0!==_props$mustGrow&&_props$mustGrow,palette=props.palette,badgeSlot=props.badgeSlot,style=props.style,_props$onPress=props.onPress,_onPress=void 0===_props$onPress?noop:_props$onPress,isOnPaper=void 0!==palette,overlayColor=(0,src.getMaterialOverlayColor)({isOnPaper,palette,theme}),styles={tab:tabStyle({theme,palette,style,overlayColor,options:{hasIconOnTop,isDisabled,isActive,mustGrow,hasIcon:!!iconSlot,hasLabel:!!label}}),flex:StyleSheet.default.create({root:{flex:1}})};return(0,jsx_runtime.jsxs)(View.default,{onResponderMove:blockActionDuringScroll.current,onResponderRelease:allowActionDuringScroll.current,onLayout:function onLayout(e){return _onLayout.current(e.nativeEvent.layout)},style:styles.tab.root,children:[iconSlot&&iconSlot(styles.tab.icon),label&&(0,jsx_runtime.jsx)(Text.default,{style:styles.tab.label,children:label}),badgeSlot,(0,jsx_runtime.jsx)(src.Fade,{style:src.fitParent.root,isVisible:isHover,duration:75,children:(0,jsx_runtime.jsx)(View.default,{style:styles.tab.overlay})}),!isDisabled&&!isFrozen&&(0,jsx_runtime.jsxs)(View.default,{style:src.fitParent.root,children:[(0,jsx_runtime.jsx)(src.Ripple,{onRef:function onRef(emitter){ripple.current=emitter},color:overlayColor}),(0,jsx_runtime.jsx)(Pressable.default,{disabled:isDisabled,style:styles.flex.root,onPress:function onPress(){!isFrozen&&isActionAllowed&&_onPress(id)},onPressIn:null==(_ripple$current2=ripple.current)?void 0:_ripple$current2.onPressIn,onPressOut:null==(_ripple$current3=ripple.current)?void 0:_ripple$current3.onPressOut,onHoverIn:function onHoverIn(){setIsHover(!0)},onHoverOut:function onHoverOut(){var _ripple$current4;null==(_ripple$current4=ripple.current)||_ripple$current4.onPressOut(),setIsHover(!1)}})]})]})};var classCallCheck=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/createClass.js"),possibleConstructorReturn=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),getPrototypeOf=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),inherits=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/inherits.js"),Animated=__webpack_require__("../../node_modules/react-native-web/dist/exports/Animated/index.js"),ScrollView=__webpack_require__("../../node_modules/react-native-web/dist/exports/ScrollView/index.js");function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var flex=StyleSheet.default.create({root:{flex:1}}),ScrollIndicator=function(_React$Component){function ScrollIndicator(){var _this;return(0,classCallCheck.A)(this,ScrollIndicator),(_this=function _callSuper(t,o,e){return o=(0,getPrototypeOf.A)(o),(0,possibleConstructorReturn.A)(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],(0,getPrototypeOf.A)(t).constructor):o.apply(t,e))}(this,ScrollIndicator,arguments)).state={isHover:!1},_this}return(0,inherits.A)(ScrollIndicator,_React$Component),(0,createClass.A)(ScrollIndicator,[{key:"render",value:function render(){var _this2=this,_this$props=this.props,onPress=_this$props.onPress,palette=_this$props.palette,slot=_this$props.slot,style=_this$props.style,theme=_this$props.theme,overlayColor=(0,src.getMaterialOverlayColor)({palette,theme,isOnPaper:void 0!==palette}),overlayStyle=createScrollIndicatorOverlayStyle(overlayColor,theme);return(0,jsx_runtime.jsxs)(View.default,{style,onStartShouldSetResponder:function onStartShouldSetResponder(){return!0},children:[null==slot?void 0:slot(theme),(0,jsx_runtime.jsx)(src.Ripple,{color:overlayColor,onRef:function onRef(emitter){return _this2.ripple=emitter}}),(0,jsx_runtime.jsx)(src.Fade,{style:src.fitParent.root,isVisible:this.state.isHover,children:(0,jsx_runtime.jsx)(View.default,{style:overlayStyle.root})}),(0,jsx_runtime.jsx)(View.default,{style:src.fitParent.root,children:(0,jsx_runtime.jsx)(Pressable.default,{style:flex.root,onHoverIn:function onHoverIn(){return _this2.setState({isHover:!0})},onHoverOut:function onHoverOut(){_this2.ripple.onPressOut(),_this2.setState({isHover:!1})},onPress,onPressIn:function onPressIn(e){_this2.ripple.onPressIn(e)},onPressOut:function onPressOut(){_this2.ripple.onPressOut()}})})]})}}])}(react.Component);function TabBar_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function TabBar_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?TabBar_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):TabBar_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function TabBar_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(TabBar_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}ScrollIndicator.__docgenInfo={description:"",methods:[],displayName:"ScrollIndicator"};var Tabs=function(_React$Component){function Tabs(props){var _this;(0,classCallCheck.A)(this,Tabs),(_this=function TabBar_callSuper(t,o,e){return o=(0,getPrototypeOf.A)(o),(0,possibleConstructorReturn.A)(t,TabBar_isNativeReflectConstruct()?Reflect.construct(o,e||[],(0,getPrototypeOf.A)(t).constructor):o.apply(t,e))}(this,Tabs,[props])).state={activeTabId:"",isScrollEnabled:!1,hasLeftScrollIndicator:!1,hasRightScrollIndicator:!1,wrapperWidth:0},_this.layout={currentScroll:0,maxScroll:0,tabsState:[]},_this.SAMmodel={tabsWidth:0,tabsState:[]},_this.cursorAnimatedValues={opacity:new Animated.default.Value(0),translateX:new Animated.default.Value(0),translateY:new Animated.default.Value(0),rotate:new Animated.default.Value(0),scaleX:new Animated.default.Value(0),scaleY:new Animated.default.Value(1)},_this.controlState="stale",_this.rollRight=(0,src.recall)((function(){var iteration=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,lastEntirelyDisplayedTab=function getLastEntirelyDisplayedTab(tabsLayout,paddingHorizontal){return tabsLayout.tabsState.slice().reverse().find((function(t){return!function isTabOutsideOnRight(tabState,tabsLayout,paddingHorizontal){return getTabRightOffset(tabState,tabsLayout,paddingHorizontal)>0}(t,tabsLayout,paddingHorizontal)}))}(_this.layout,_this.paddingHorizontal);if(void 0!==lastEntirelyDisplayedTab){var tabId=lastEntirelyDisplayedTab.id,nextTabIndex=Math.min(_this.SAMmodel.tabsState.findIndex((function(tab){return tab.id===tabId}))+iteration+1,_this.SAMmodel.tabsState.length-1),nextTab=_this.SAMmodel.tabsState[nextTabIndex];_this.scrollToTab(nextTab.id)}}),(function(iteration){return[iteration]}),500),_this.rollLeft=(0,src.recall)((function(){var iteration=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,firstEntirelyDisplayedTab=function getFirstEntirelyDisplayedTab(tabsLayout){return tabsLayout.tabsState.slice().find((function(t){return!function isTabOutsideOnLeft(tabState,tabsLayout){return getTabLeftOffset(tabState,tabsLayout)<0}(t,tabsLayout)}))}(_this.layout);if(void 0!==firstEntirelyDisplayedTab){var tabId=firstEntirelyDisplayedTab.id,previousTabIndex=Math.max(_this.SAMmodel.tabsState.findIndex((function(tab){return tab.id===tabId}))-(iteration+1),0),previousTab=_this.SAMmodel.tabsState[previousTabIndex];_this.scrollToTab(previousTab.id)}}),(function(iteration){return[iteration]}),500),_this.bindTab=function(id){var _this$props=_this.props,hasIconOnTop=_this$props.hasIconOnTop,palette=_this$props.palette,isFrozen=_this$props.isFrozen,_this$state=_this.state,activeTabId=_this$state.activeTabId,isScrollEnabled=_this$state.isScrollEnabled;return{onWillMount:_this.registerTab,onTabLayout:_this.setTabLayout,onUnmount:_this.removeTab,onPress:_this.onPressTab,isFrozen,isActive:id===activeTabId,mustGrow:isScrollEnabled,hasIconOnTop,palette}},_this.onLayout=function(barLayout){void 0!==_this.layout.barLayout&&barLayout.nativeEvent.layout.height===_this.layout.barLayout.height&&barLayout.nativeEvent.layout.width===_this.layout.barLayout.width&&barLayout.nativeEvent.layout.x===_this.layout.barLayout.x&&barLayout.nativeEvent.layout.y===_this.layout.barLayout.y||(_this.layout.barLayout=barLayout.nativeEvent.layout,_this.computeState())},_this.registerTab=function(id){_this.present({mutation:"registerTab",payload:{id}})},_this.removeTab=function(id){_this.present({mutation:"removeTab",payload:{id}})},_this.setTabLayout=function(payload){_this.present({mutation:"setTabLayout",payload})},_this.onScroll=function(e){var newScrollLeft=e.nativeEvent.contentOffset.x;_this.layout.currentScroll=Math.round(newScrollLeft),_this.layout.currentScroll>0===_this.state.hasLeftScrollIndicator&&_this.layout.currentScroll<_this.layout.maxScroll===_this.state.hasRightScrollIndicator||_this.setState({hasLeftScrollIndicator:_this.layout.currentScroll>0,hasRightScrollIndicator:_this.layout.currentScroll<_this.layout.maxScroll})},_this.onPressTab=function(activeTabId){var _this$props2=_this.props,onChange=_this$props2.onChange,onPressActiveTab=_this$props2.onPressActiveTab;activeTabId!==_this.state.activeTabId?(_this.scrollToTab(activeTabId),onChange&&onChange(activeTabId),_this.setState({activeTabId})):onPressActiveTab&&onPressActiveTab()};var rotate=_this.cursorAnimatedValues.rotate.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]});return _this.animatedStyle=StyleSheet.default.create({root:{transform:[{translateX:_this.cursorAnimatedValues.translateX},{translateY:_this.cursorAnimatedValues.translateY},{scaleX:_this.cursorAnimatedValues.scaleX},{scaleY:_this.cursorAnimatedValues.scaleY},{rotate}]}}),_this}return(0,inherits.A)(Tabs,_React$Component),(0,createClass.A)(Tabs,[{key:"activeTab",get:function get(){var _this2=this;return this.SAMmodel.tabsState.find((function(s){return s.id===_this2.state.activeTabId}))}},{key:"paddingHorizontal",get:function get(){return this.getStyles(this.state.isScrollEnabled).paddingHorizontal}},{key:"isLayoutReady",get:function get(){return void 0!==this.layout.barLayout&&this.SAMmodel.tabsState.length>0&&this.SAMmodel.tabsState.every((function(tab){return!tab.isStale}))}},{key:"tabs",get:function get(){var _this3=this;return this.props.tabs.map((function(props){return(0,jsx_runtime.jsx)(lib_Tab,TabBar_objectSpread(TabBar_objectSpread({},props),_this3.bindTab(props.id)),props.id)}))}},{key:"componentDidMount",value:function componentDidMount(){var firstTabId=function getFirstTabId(model){var tab=model.tabsState[0];return tab?tab.id:void 0}(this.SAMmodel);(this.props.activeTabId||firstTabId)&&this.setState({activeTabId:this.props.activeTabId||firstTabId})}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){return(0,src.shouldComponentUpdate)(nextProps,nextState,this.props,this.state)}},{key:"render",value:function render(){var isFrozen=this.props.isFrozen,_this$state2=this.state,hasLeftScrollIndicator=_this$state2.hasLeftScrollIndicator,hasRightScrollIndicator=_this$state2.hasRightScrollIndicator,isScrollEnabled=_this$state2.isScrollEnabled,style=this.getStyles(isScrollEnabled).style,left=isFrozen?{left:-this.layout.currentScroll}:{},tabs=(0,jsx_runtime.jsxs)(View.default,{style:[style.scrollContent,{minWidth:this.state.wrapperWidth},left],children:[this.renderCursor(style),this.tabs]});return(0,jsx_runtime.jsx)(src.Paper,{elevation:2,style:{root:style.root,content:style.container},onLayout:this.onLayout,children:this.renderInScrollView(tabs,style,isScrollEnabled,hasLeftScrollIndicator,hasRightScrollIndicator)})}},{key:"componentDidUpdate",value:function componentDidUpdate(_prevProps,prevState){this.state.activeTabId!==prevState.activeTabId&&"isLayoutReady"===this.controlState&&this.scrollToTab(this.state.activeTabId),this.activeTab&&this.activeTab.layout&&this.updateCursorPosition()}},{key:"updateCursorPosition",value:function updateCursorPosition(){var _this4=this;this.cursorAnimation&&Object.keys(this.cursorAnimation).forEach((function(key){return _this4.cursorAnimation[key].stop()})),this.cursorAnimation=this.getAnimation({opacity:1,translateX:this.activeTab.layout.x+.5*this.activeTab.layout.width,translateY:0,rotate:0,scaleX:this.activeTab.layout.width,scaleY:1}),Object.keys(this.cursorAnimation).forEach((function(key){return _this4.cursorAnimation[key].start()}))}},{key:"renderCursor",value:function renderCursor(style){var activeTabLayout=this.activeTab&&this.activeTab.layout?this.activeTab.layout:{x:0,y:0,width:0,height:0},barLayout=this.layout&&this.layout.barLayout?this.layout.barLayout:{x:0,y:0,width:0,height:0};return(0,jsx_runtime.jsx)(Animated.default.View,{style:[style.cursorAnimatedContainer,this.animatedStyle.root],children:this.props.renderCustomCursor?this.props.renderCustomCursor(activeTabLayout,barLayout,this.props.theme):(0,jsx_runtime.jsx)(View.default,{style:style.cursor})})}},{key:"renderInScrollView",value:function renderInScrollView(tabs,styles,isScrollEnabled,hasLeftScrollIndicator,hasRightScrollIndicator){var _this5=this,_this$props3=this.props,palette=_this$props3.palette,theme=_this$props3.theme,leftScrollButton=_this$props3.leftScrollButton,rightScrollButton=_this$props3.rightScrollButton,isFrozen=_this$props3.isFrozen;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ScrollView.default,{ref:function ref(comp){return _this5.scrollViewRef=comp},scrollEnabled:isScrollEnabled&&!isFrozen,horizontal:!0,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,onScroll:this.onScroll,style:styles.scrollView,children:tabs}),hasLeftScrollIndicator&&leftScrollButton&&(0,jsx_runtime.jsx)(ScrollIndicator,{palette,style:styles.leftIndicator,slot:leftScrollButton,theme,onPress:function onPress(){return _this5.rollLeft()}}),hasRightScrollIndicator&&rightScrollButton&&(0,jsx_runtime.jsx)(ScrollIndicator,{palette,style:styles.rightIndicator,slot:rightScrollButton,theme,onPress:function onPress(){return _this5.rollRight()}})]})}},{key:"getStyles",value:function getStyles(isScrollEnabled){var _this$props4=this.props,hasIconOnTop=_this$props4.hasIconOnTop,palette=_this$props4.palette,theme=_this$props4.theme,style=_this$props4.style;return tabsBarStyle({theme,palette,style,options:{hasIconOnTop,isScrollEnabled}})}},{key:"computeState",value:function computeState(){var previousControlState=this.controlState;switch("stale"===this.controlState?this.isLayoutReady&&(this.controlState="isLayoutReady"):"isLayoutReady"===this.controlState&&(this.isLayoutReady||(this.controlState="stale")),this.layout.tabsState=this.SAMmodel.tabsState.filter((function(s){return!s.isStale})).map((function(_ref){return{id:_ref.id,layout:_ref.layout}})),"isLayoutReady"===this.controlState&&this.activeTab&&("stale"===previousControlState&&this.activeTab.layout&&(this.cursorAnimatedValues.translateX.setValue(this.activeTab.layout.x),this.cursorAnimatedValues.scaleX.setValue(this.activeTab.layout.width)),this.updateCursorPosition()),this.controlState){default:case"stale":break;case"isLayoutReady":this.setScrollState()}}},{key:"present",value:function present(proposal){if("registerTab"===proposal.mutation){var payload=proposal.payload;this.SAMmodel.tabsState=this.SAMmodel.tabsState.filter((function(t){return t.id!==payload.id})),this.SAMmodel.tabsState.push({id:payload.id,isStale:!0}),this.computeState()}else if("setTabLayout"===proposal.mutation){var _payload=proposal.payload;if(!_payload.layout)return;if(this.isLayoutReady)this.SAMmodel.tabsState=this.SAMmodel.tabsState.map((function(ref){return ref.id===_payload.id?_payload:TabBar_objectSpread({},ref)}));else{var tab=this.SAMmodel.tabsState.find((function(ref){return ref.id===_payload.id}));tab&&(tab.isStale=!1,tab.layout=_payload.layout),this.SAMmodel.tabsWidth=getTabsWidth(this.SAMmodel)}this.computeState()}else if("removeTab"===proposal.mutation){if("stale"===this.controlState)return;var _payload2=proposal.payload;this.SAMmodel.tabsState=this.SAMmodel.tabsState.filter((function(s){return s.id!==_payload2.id})),this.SAMmodel.tabsWidth=getTabsWidth(this.SAMmodel),this.computeState()}}},{key:"setScrollState",value:function setScrollState(){var _this6=this,isScrollEnabled=this.SAMmodel.tabsWidth>this.layout.barLayout.width,hasRightScrollIndicator=isScrollEnabled;this.layout.maxScroll=isScrollEnabled?this.SAMmodel.tabsWidth-this.layout.barLayout.width+2*this.getStyles(isScrollEnabled).paddingHorizontal:0;var wrapperWidth=(this.layout&&this.layout.barLayout&&this.layout.barLayout.width||0)-2*this.paddingHorizontal;this.setState({isScrollEnabled,hasRightScrollIndicator,wrapperWidth},(function(){_this6.props.isFrozen||_this6.scrollToTab(_this6.state.activeTabId,!1)}))}},{key:"scrollToTab",value:function scrollToTab(id,animated){var offset=this.getTabOffset(id);this.scrollTo(this.layout.currentScroll+offset,animated)}},{key:"getTabOffset",value:function getTabOffset(id){var tab=this.layout.tabsState.find((function(t){return t.id===id}));if(void 0===tab)return 0;var offsetBorderLeft=getTabLeftOffset(tab,this.layout),offsetBorderRight=getTabRightOffset(tab,this.layout,this.paddingHorizontal);return offsetBorderLeft<0?offsetBorderLeft:offsetBorderRight>0?offsetBorderRight:0}},{key:"scrollTo",value:function scrollTo(position){var animated=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],value=this.limit(position);this.scrollViewRef&&this.scrollViewRef.scrollTo({x:value,animated}),this.layout.currentScroll=Math.round(value)}},{key:"limit",value:function limit(){var value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.min(this.layout.maxScroll,Math.max(0,value))}},{key:"getAnimation",value:function getAnimation(_ref2){var opacity=_ref2.opacity,translateX=_ref2.translateX,translateY=_ref2.translateY,rotate=_ref2.rotate,scaleX=_ref2.scaleX,scaleY=_ref2.scaleY,customAnimation=this.props.customCursorAnimation?this.props.customCursorAnimation(this.cursorAnimatedValues,this.activeTab.layout,this.props.theme):{};return{opacity:customAnimation.opacity||Animated.default.timing(this.cursorAnimatedValues.opacity,{useNativeDriver:!0,toValue:opacity,duration:Tabs.cursorTransitionDuration,easing:src.easing.easeInOut}),translateX:customAnimation.translateX||Animated.default.timing(this.cursorAnimatedValues.translateX,{useNativeDriver:!0,toValue:translateX,duration:Tabs.cursorTransitionDuration,easing:src.easing.easeInOut}),translateY:customAnimation.translateY||Animated.default.timing(this.cursorAnimatedValues.translateY,{useNativeDriver:!0,toValue:translateY,duration:Tabs.cursorTransitionDuration,easing:src.easing.easeInOut}),rotate:customAnimation.rotate||Animated.default.timing(this.cursorAnimatedValues.rotate,{useNativeDriver:!0,toValue:rotate,duration:Tabs.cursorTransitionDuration,easing:src.easing.easeInOut}),scaleX:customAnimation.scaleX||Animated.default.timing(this.cursorAnimatedValues.scaleX,{useNativeDriver:!0,toValue:scaleX,duration:Tabs.cursorTransitionDuration,easing:src.easing.easeInOut}),scaleY:customAnimation.scaleY||Animated.default.timing(this.cursorAnimatedValues.scaleY,{useNativeDriver:!0,toValue:scaleY,duration:Tabs.cursorTransitionDuration,easing:src.easing.easeInOut})}}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,state){var hasActiveTabFromPropsChanged=nextProps.activeTabId!==state.activeIdFromProps;return TabBar_objectSpread(TabBar_objectSpread({},state),{},{activeIdFromProps:nextProps.activeTabId,activeTabId:hasActiveTabFromPropsChanged&&nextProps.activeTabId?nextProps.activeTabId:state.activeTabId})}}])}(react.Component);function getTabsWidth(model){if(0===model.tabsState.length)return 0;var firstTabRect=function getFirstTab(model){return model.tabsState[0]||void 0}(model).layout,lastTabRect=function getLastTab(model){return model.tabsState[model.tabsState.length-1]}(model).layout;return firstTabRect&&lastTabRect?Math.round(lastTabRect.x+lastTabRect.width-firstTabRect.x):0}function getTabRightOffset(tab,tabsLayout,paddingHorizontal){return tab.layout.x+tab.layout.width-tabsLayout.currentScroll-(tabsLayout.barLayout.x+tabsLayout.barLayout.width-2*paddingHorizontal)}function getTabLeftOffset(tab,tabsLayout){return tab.layout.x-tabsLayout.currentScroll-tabsLayout.barLayout.x}Tabs.cursorTransitionDuration=200;const TabBar=(0,src.withTheme)(Tabs);Tabs.__docgenInfo={description:"",methods:[{name:"activeTab",docblock:null,modifiers:["get"],params:[],returns:null},{name:"paddingHorizontal",docblock:null,modifiers:["get"],params:[],returns:null},{name:"isLayoutReady",docblock:null,modifiers:["get"],params:[],returns:null},{name:"tabs",docblock:null,modifiers:["get"],params:[],returns:null},{name:"updateCursorPosition",docblock:null,modifiers:[],params:[],returns:null},{name:"renderCursor",docblock:null,modifiers:[],params:[{name:"style",optional:!1,type:null}],returns:null},{name:"renderInScrollView",docblock:null,modifiers:[],params:[{name:"tabs",optional:!1,type:null},{name:"styles",optional:!1,type:null},{name:"isScrollEnabled",optional:!1,type:null},{name:"hasLeftScrollIndicator",optional:!1,type:null},{name:"hasRightScrollIndicator",optional:!1,type:null}],returns:null},{name:"getStyles",docblock:null,modifiers:[],params:[{name:"isScrollEnabled",optional:!1,type:null}],returns:null},{name:"computeState",docblock:null,modifiers:[],params:[],returns:null},{name:"present",docblock:null,modifiers:[],params:[{name:"proposal",optional:!1,type:null}],returns:null},{name:"setScrollState",docblock:null,modifiers:[],params:[],returns:null},{name:"scrollToTab",docblock:null,modifiers:[],params:[{name:"id",optional:!1,type:null},{name:"animated",optional:!1,type:null}],returns:null},{name:"getTabOffset",docblock:null,modifiers:[],params:[{name:"id",optional:!1,type:null}],returns:null},{name:"scrollTo",docblock:null,modifiers:[],params:[{name:"position",optional:!1,type:null},{name:"animated",optional:!0,type:null}],returns:null},{name:"limit",docblock:null,modifiers:[],params:[{name:"value",optional:!0,type:null}],returns:null},{name:"getAnimation",docblock:null,modifiers:[],params:[{name:"{ opacity, translateX, translateY, rotate, scaleX, scaleY, }",optional:!1,type:null}],returns:null}],displayName:"Tabs"}},"./stories/tabs/Tabs.stories.tsx":(module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("../../node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Basic=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__("../../node_modules/@babel/runtime/helpers/toConsumableArray.js")),_FontAwesome=_interopRequireDefault(__webpack_require__("../../node_modules/@expo/vector-icons/FontAwesome5.js")),_Animated=_interopRequireDefault(__webpack_require__("../../node_modules/react-native-web/dist/exports/Animated/index.js")),_StyleSheet=_interopRequireDefault(__webpack_require__("../../node_modules/react-native-web/dist/exports/StyleSheet/index.js")),_Text=_interopRequireDefault(__webpack_require__("../../node_modules/react-native-web/dist/exports/Text/index.js")),_View=_interopRequireDefault(__webpack_require__("../../node_modules/react-native-web/dist/exports/View/index.js")),_core=__webpack_require__("../core/src/index.ts"),_tabs=__webpack_require__("../tabs/index.js"),_jsxRuntime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),styles={notification:_StyleSheet.default.create({root:{backgroundColor:"red",borderRadius:10,minWidth:20,padding:4,position:"absolute",top:0,right:0},text:{color:"white",textAlign:"center",fontSize:10}})};function renderCustomCursor(_ref,_ref2,theme){var x=_ref.x,barWidth=_ref2.width;return(0,_jsxRuntime.jsx)(_View.default,{style:{position:"absolute",width:1,height:4,top:44,backgroundColor:_core.colorManipulator.fade(theme.business.warning.main,Math.max(x/Math.max(barWidth,1),.1))}})}var customCursorAnimation=function customCursorAnimation(_ref3,_ref4,theme){var scaleX=_ref3.scaleX,scaleY=_ref3.scaleY,translateY=_ref3.translateY,rotate=_ref3.rotate,width=_ref4.width;return{scaleX:_Animated.default.sequence([_Animated.default.timing(scaleX,{toValue:0,useNativeDriver:!0,duration:100,easing:_core.easing.easeOut}),_Animated.default.timing(scaleX,{toValue:width-4*theme.spacing,useNativeDriver:!0,duration:200,easing:_core.easing.easeIn})]),scaleY:_Animated.default.sequence([_Animated.default.timing(scaleY,{toValue:1,useNativeDriver:!0,duration:100,easing:_core.easing.easeOut}),_Animated.default.timing(scaleY,{toValue:1,useNativeDriver:!0,duration:200,easing:_core.easing.easeIn})]),translateY:_Animated.default.sequence([_Animated.default.timing(translateY,{toValue:-30,useNativeDriver:!0,duration:50,easing:_core.easing.easeOut}),_Animated.default.timing(translateY,{toValue:0,useNativeDriver:!0,duration:50,easing:_core.easing.easeIn})]),rotate:_Animated.default.sequence([_Animated.default.timing(rotate,{toValue:180,useNativeDriver:!0,duration:50,easing:_core.easing.easeOut}),_Animated.default.timing(rotate,{toValue:0,useNativeDriver:!0,duration:50,easing:_core.easing.easeIn})])}},notification=(0,_jsxRuntime.jsx)(_View.default,{style:styles.notification.root,children:(0,_jsxRuntime.jsx)(_Text.default,{style:styles.notification.text,children:"1"})}),meta={title:"Advanced/Tabs bar",component:_tabs.TabBar,argTypes:{palette:{options:[void 0,"primary","secondary"],control:{type:"select"}},hasIcon:{type:"boolean",description:"With icon"},hasIconOnTop:{type:"boolean",description:"Has two lines"},activeTabId:{options:["0","1","2","3","4","5"],control:{type:"select"}},useCustomCursor:{type:"boolean",description:"Use custom cursor"},firstTabLabel:{control:"text",description:"First tab label"},otherTabBarLabel:{control:"text",description:"Other tabs label"}}};exports.default=meta,exports.Basic={render:function render(props){return(0,_jsxRuntime.jsx)(_View.default,{style:{flex:1,justifyContent:"center"},children:(0,_jsxRuntime.jsx)(_tabs.TabBar,{paddingHorizontal:0,isFrozen:props.isFrozen,hasIconOnTop:props.hasIconOnTop,palette:props.palette,activeTabId:props.activeTabId,customCursorAnimation:props.useCustomCursor?customCursorAnimation:void 0,renderCustomCursor:props.useCustomCursor?renderCustomCursor:void 0,leftScrollButton:function leftScrollButton(theme){return(0,_jsxRuntime.jsx)(_View.default,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:(0,_jsxRuntime.jsx)(_FontAwesome.default,{name:"chevron-left",size:16,color:void 0!==props.palette?theme.palette[props.palette].main:theme.palette.primary.contrastText})})},rightScrollButton:function rightScrollButton(theme){return(0,_jsxRuntime.jsx)(_View.default,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:(0,_jsxRuntime.jsx)(_FontAwesome.default,{name:"chevron-right",size:16,color:void 0!==props.palette?theme.palette[props.palette].main:theme.palette.primary.contrastText})})},tabs:[{id:"0",label:props.firstTabLabel,isDisabled:props.isDisabled,badgeSlot:notification}].concat((0,_toConsumableArray2.default)(Array.from(Array(props.numberOfTabs)).map((function(_,i){return{id:i+1+"",label:`${props.otherTabBarLabel} ${i+1}`}}))))})})},args:{isDisabled:!1,palette:void 0,activeTabId:"0",numberOfTabs:4,firstTabLabel:"LARGE ROCKET LABEL",otherTabBarLabel:"ROCKET",hasIcon:!1,hasIconOnTop:!1,useCustomCursor:!1,isFrozen:!1}};module.exports.__namedExportsOrder=["Basic"]},"?e969":()=>{}}]);