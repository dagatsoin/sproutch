(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[296],{"../transition/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("../transition/lib/transition/src/index.js")},"../transition/lib/transition/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DEFAULT_INTERPOLATOR_CONFIG:()=>DEFAULT_INTERPOLATOR_CONFIG,TRANSFORM_KEYS:()=>TRANSFORM_KEYS,Transition:()=>Transition});var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),_react_spring_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@react-spring/core/dist/react-spring_core.modern.mjs"),_sproutch_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../core/src/index.ts");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var DEFAULT_INTERPOLATOR_CONFIG={range:[0,360],output:["0deg","360deg"]},TRANSFORM_KEYS=["translateX","translateY","rotateX","rotateY","rotateZ","rotate","skewX","skewY","perspective","scale","scaleX","scaleY","matrix"];function splitStyle(props){var transformKeys=[],style={};return Object.keys(props).forEach((function(key){if(key in props){var value=props[key];!function isTransformKey(key){return TRANSFORM_KEYS.includes(key)}(key)?style[key]=value:transformKeys.push(key)}})),{transformKeys,style}}function Transition(_ref){var id=_ref.id,wrapperStyle=_ref.wrapperStyle,configuration=_ref.configuration,renderFn=_ref.renderFn,transRef=(0,_react_spring_core__WEBPACK_IMPORTED_MODULE_3__.U2)(),config=_objectSpread({ref:transRef},configuration),transitions=(0,_react_spring_core__WEBPACK_IMPORTED_MODULE_3__.pn)(id,config);return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){transRef.start()}),[id]),transitions((function(props,item,_state,key){var _configuration$interp,_configuration$interp2,_configuration$interp3,_configuration$interp4,_configuration$interp5,_configuration$interp6,_configuration$interp7,_configuration$interp8,_splitStyle=splitStyle(props),style=_splitStyle.style,transformKeys=_splitStyle.transformKeys,transforms=[];for(var _key of transformKeys){var value=props[_key];if(value)switch(_key){case"translateX":case"translateY":transforms.push([_key,value.to((function(t){return`${t}px`}))]);break;case"rotate":case"rotateX":case"rotateY":case"rotateZ":transforms.push([_key,value.to((null!=(_configuration$interp=null==(_configuration$interp2=configuration.interpolatorConfig)?void 0:_configuration$interp2.rotation)?_configuration$interp:DEFAULT_INTERPOLATOR_CONFIG).range,(null!=(_configuration$interp3=null==(_configuration$interp4=configuration.interpolatorConfig)?void 0:_configuration$interp4.rotation)?_configuration$interp3:DEFAULT_INTERPOLATOR_CONFIG).output)]);break;case"scale":case"scaleX":case"scaleY":case"perspective":transforms.push([_key,value]);break;case"skewX":case"skewY":transforms.push([_key,value.to((null!=(_configuration$interp5=null==(_configuration$interp6=configuration.interpolatorConfig)?void 0:_configuration$interp6.skew)?_configuration$interp5:DEFAULT_INTERPOLATOR_CONFIG).range,(null!=(_configuration$interp7=null==(_configuration$interp8=configuration.interpolatorConfig)?void 0:_configuration$interp8.skew)?_configuration$interp7:DEFAULT_INTERPOLATOR_CONFIG).output)]);break;case"matrix":console.warn("[Sproutch] matrix is not currently supported in animated transition"),transforms.push([_key,value])}}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_sproutch_core__WEBPACK_IMPORTED_MODULE_4__.AnimatedView,{style:_objectSpread(_objectSpread(_objectSpread({},wrapperStyle),style),{},{transform:(0,_react_spring_core__WEBPACK_IMPORTED_MODULE_3__.to)(transforms.map((function(_ref2){var _ref3=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__.A)(_ref2,2);_ref3[0];return _ref3[1]})),(function(){for(var _len=arguments.length,args=new Array(_len),_key2=0;_key2<_len;_key2++)args[_key2]=arguments[_key2];return args.reduce((function(str,value,i){return`${str} ${transforms[i][0]}(${value})`}),"")}))}),children:renderFn(item)},key)}))}},"./stories/transition/Transition.stories.tsx":(module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("../../node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Basic=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__("../../node_modules/@babel/runtime/helpers/defineProperty.js")),_core=__webpack_require__("../core/src/index.ts"),_transition=__webpack_require__("../transition/index.js"),_StyleSheet=_interopRequireDefault(__webpack_require__("../../node_modules/react-native-web/dist/exports/StyleSheet/index.js")),_Text=_interopRequireDefault(__webpack_require__("../../node_modules/react-native-web/dist/exports/Text/index.js")),_View=_interopRequireDefault(__webpack_require__("../../node_modules/react-native-web/dist/exports/View/index.js")),_reactRouterNative=__webpack_require__("../../node_modules/react-router-native/dist/index.js"),_jsxRuntime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_defineProperty2.default)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var style=_StyleSheet.default.create({appRoot:{justifyContent:"center",flex:1,height:200},nav:{display:"flex",textTransform:"uppercase",backgroundColor:"#f093fb",flexDirection:"row"},linkRoot:{paddingRight:20,paddingTop:40},content:{flex:1},linkText:{color:"white",fontSize:20,textDecorationLine:"underline"},contentText:{fontSize:50,fontWeight:"900",color:"white"}}),Layout=function Layout(){return(0,_jsxRuntime.jsxs)(_View.default,{style:style.nav,children:[(0,_jsxRuntime.jsx)(_reactRouterNative.Link,{style:style.linkRoot,to:"/",children:(0,_jsxRuntime.jsx)(_Text.default,{style:style.linkText,children:"Home"})}),(0,_jsxRuntime.jsx)(_reactRouterNative.Link,{style:style.linkRoot,to:"/1",children:(0,_jsxRuntime.jsx)(_Text.default,{style:style.linkText,children:"Page 1"})}),(0,_jsxRuntime.jsx)(_reactRouterNative.Link,{style:style.linkRoot,to:"/2",children:(0,_jsxRuntime.jsx)(_Text.default,{style:style.linkText,children:"Page 2"})})]})},App=function App(){var location=(0,_reactRouterNative.useLocation)();return(0,_jsxRuntime.jsx)(_View.default,{style:style.appRoot,children:(0,_jsxRuntime.jsx)(_transition.Transition,{id:location.pathname,configuration:{keys:null,from:{opacity:0,rotateZ:-10,translateX:-100},enter:{opacity:1,rotateZ:0,translateX:0,translateY:0},leave:{opacity:0,rotateZ:10,translateX:100,translateY:100}},wrapperStyle:_core.fitParent.root,renderFn:function renderFn(pathName){return(0,_jsxRuntime.jsxs)(_reactRouterNative.Routes,{location:pathName,children:[(0,_jsxRuntime.jsx)(_reactRouterNative.Route,{path:"/",element:(0,_jsxRuntime.jsx)(_View.default,{style:_objectSpread(_objectSpread({},style.content),{},{backgroundColor:"#f5576c"}),children:(0,_jsxRuntime.jsx)(_Text.default,{style:style.contentText,children:"HOME"})})}),(0,_jsxRuntime.jsx)(_reactRouterNative.Route,{path:"/1",element:(0,_jsxRuntime.jsx)(_View.default,{style:_objectSpread(_objectSpread({},style.content),{},{backgroundColor:"#f5226c"}),children:(0,_jsxRuntime.jsx)(_Text.default,{style:style.contentText,children:"HELLO"})})}),(0,_jsxRuntime.jsx)(_reactRouterNative.Route,{path:"/2",element:(0,_jsxRuntime.jsx)(_View.default,{style:_objectSpread(_objectSpread({},style.content),{},{backgroundColor:"#f511ff"}),children:(0,_jsxRuntime.jsx)(_Text.default,{style:style.contentText,children:"WORLD"})})})]})}})})},TransitionMeta={title:"Advanced/Animated transition",component:function component(){return(0,_jsxRuntime.jsx)(_jsxRuntime.Fragment,{children:(0,_jsxRuntime.jsxs)(_reactRouterNative.NativeRouter,{children:[(0,_jsxRuntime.jsx)(Layout,{}),(0,_jsxRuntime.jsx)(App,{})]})})},decorators:[function(Story){return(0,_jsxRuntime.jsx)(_View.default,{style:style.appRoot,children:(0,_jsxRuntime.jsx)(Story,{})})}]};exports.default=TransitionMeta,exports.Basic={};module.exports.__namedExportsOrder=["Basic"]}}]);